// Generated by CoffeeScript 1.6.2
'use strict';
var phantom;

phantom = require('node-phantom');

exports.loadPage = function(url, evalCb, resultCb) {
  return phantom.create(function(err, ph) {
    if (err) {
      return callback(err);
    }
    return ph.createPage(function(err, page) {
      if (err) {
        return callback(err);
      }
      return page.open(url, function(err, status) {
        if (err) {
          return callback(err);
        }
        return page.evaluate(evalCb, function(err, result) {
          ph.exit();
          return resultCb(err, result);
        });
      });
    });
  });
};
